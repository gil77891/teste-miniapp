<!DOCTYPE html>
<html>
<head>
    <title>Formulário de Pedido</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        /* ... Estilos CSS ... */
    </style>
</head>
<body>
    <h1>Selecione seu Lanche</h1>

    <label for="item">Item:</label>
    <select id="item">
        <option value="Hamburguer">Hambúrguer Clássico</option>
        <option value="Batata">Porção de Batata Frita</option>
        <option value="Refrigerante">Refrigerante</option>
    </select>

    <label for="obs">Observações:</label>
    <input type="text" id="obs" placeholder="Sem picles, por favor.">

    <button onclick="enviarPedido()">Confirmar Pedido</button>

    <script>
        // 2. Inicializa e garante que a API está pronta
        Telegram.WebApp.ready();
        
        // 3. Função para enviar os dados de volta para o Bot
        function enviarPedido() {
            const item = document.getElementById('item').value;
            const obs = document.getElementById('obs').value;
            
            // Cria um objeto JSON com os dados do pedido
            const dadosDoPedido = {
                item: item,
                observacoes: obs
            };
            
            // Converte para String (o Telegram WebApp.sendData envia apenas Strings)
            const dadosJSON = JSON.stringify(dadosDoPedido);
            
            // *** O ponto-chave da comunicação ***
            // Envia os dados para o Bot e fecha o Web App
            window.Telegram.WebApp.sendData(dadosJSON);
        }
    </script>
</body>
</html>
